---
paths:
  /journals/{journal}/entries:
    parameters:
      - name: journal
        in: path
        description: The journal you want entry information for
        required: true
        schema:
          type: string
    get:
      description: Returns recent entries for a specified journal, optionally filtered by the extra parameters given.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                start:
                  type: string
                  description: The beginning of a date range to fetch.
                end:
                  type: string
                  description: The end of a date range to fetch.
                count:
                  type: integer
                  description: The number of entries to fetch. FIXME - max
                offset:
                  type: integer
                  description: The offset from the most recent entry to start fetching from.
                tag:
                  type: string
                  description: The tag to filter fetched entries by
                accesslist:
                  type: string
                  description: The security level to filter fetched entries by
      responses:
        200:
          description: a list of recent entries
        404:
          description: Journal specified does not exist
    post:
      description: Post a new journal entry.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - text
              properties:
                subject:
                  type: string
                  description: Entry subject line
                text:
                  type: string
                  description: Entry text
                icon:
                  type: string
                  description: Keyword of icon to use
                datetime:
                  type: string
                  description: The date and time of the entry in the format `FIXME`. If omitted, the server time will be used instead.
                security:
                  type: string
                  description: Security level to use. Can be public, private, or a filter name.
                age_restriction:
                  type: string
                  description: Age restriction flag. `none` puts no flags on the entry, `discretion` marks it as "viewer discretion advised", and `restricted` marks it inacessible to users under eighteen. If omitted, the journal default will be used.
                age_restriction_reason:
                  type: string
                  description: A optional description of why you chose the age-restriction setting you did.
                comment_settings:
                  type: string
                  description: Comment settings for the new entry. `nocomments` disables comments, and `noemail` disables notifications. If omitted, the journal default will be used.
                tags:
                  description: An array of tags to apply to the entry.
                  type: array
                  items:
                    type: string
      responses:
        200:
          description: The new entry in JSON format.
        400:
          description: Bad input value supplied.
        404:
          description: Journal specified does not exist.
        403:
          description: You aren't allowed to post in that journal.